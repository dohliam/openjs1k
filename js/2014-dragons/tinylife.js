function E(n,i){for(var r in n)i(r)}function G(n,i){return z[n+_+i]||0}function N(n,i){return G(n-1,i-1)+G(n,i-1)+G(n+1,i-1)+G(n-1,i)+G(n+1,i)+G(n-1,i+1)+G(n,i+1)+G(n+1,i+1)}function S(){g++,z=JSON.parse(JSON.stringify(zb));for(var n=0;sh>n;n++)for(var i=0;sw>i;i++){var r=N(i,n);G(i,n)?(2>r||r>3)&&delete zb[i+_+n]:3==r&&(zb[i+_+n]=1)}P(zb,1)}function P(n,i){c.clearRect(0,0,w,h),E(n,function(n){var r=n.split(_);c[i?"fillRect":"strokeRect"](r[0]*s,r[1]*s,s,s)}),c.fillText("A)ANIM S)NEW D)EDIT F)FORW <"+(r?"R":"E")+"> G"+g,s,s)}function A(){a&&(S(),requestAnimationFrame(A))}var w=window.innerWidth,h=window.innerHeight,_=",",s=10,sw=w/s|0,sh=h/s|0,z={},zb={},zs={},r=0,a=0,g=0;P(zs),window.onclick=function(n){if(!r){var i=n.clientX/s|0,t=n.clientY/s|0;zs[i+_+t]?delete zs[i+_+t]:zs[i+_+t]=1,P(zs)}},window.onkeydown=function(n){var i=n.which;70==i?r?S():(E(zs,function(n){zb[n]=zs[n],z[n]=zs[n]}),r=1,P(zb,1)):68==i?(z={},zb={},g=0,r=0,a=0,P(zs)):83==i?(z={},zb={},zs={},g=0,r=0,a=0,P({})):65==i&&r&&(a?a=0:(a=1,A()))};