var M=Math,d=document,c=d.body.children.c,C=c.getContext("2d"),K="F0970007fff7F117FF170A1701D".split(7),Q=J=$=0,X=2,P=Y=y=x=14,q=99,o=22,n=38,L,U,E,T;function a(c,l,t,W,H){if(!W){J++;Q++;Y*=1.05;X*=1.1;i=-1;u=[];while(++i<o*n)M.random()*.51>.5?u.push([i%n*w,~~(i/o)*9]):0;d=i=u.length;}else{C.beginPath();C.fillStyle="#"+K[c%7];H?C.rect(l,t,W,H):C.arc(l,t,W,0,M.PI*2,1);C.closePath();C.fill()}}c.ontouchmove=d.onkeydown=d.onkeyup=function(e,c){U=e.keyCode%39;(c=e.touches)?z=c[0].pageX:L=!U;return e.type=="keyup"?U=L=0:!c};c.width=W=480;H=600;c.height=H+q;z=W/2;w=W/n;setInterval(function(j){a(J,0,0,W,H);a(J+1,x,y,P);C.font="50px Arial";C.fillText([J,Q-1,$],o,H-$%H-9);z+=L?9+J/2:U?-(9+J/2):0;a(J+1,z,H-P,q,P);T=x+X;E=y+Y;B=E+P;i=d;while(--i){j=(u[i][0]+=M.abs(M.log(i/J)))%W;A=++u[i][1]%320;a(i,j,A,11);if(x>j-P&&x<j+P&&y>A-P&&y<A+P){Y=-Y;$++;if($%o>o-2)a()}}if(T+P>W||T-P<0)X=-X;if(E-P<0)Y=-Y;else if(B>H)if(x>z-8&&x<z+q+8){X=9*((x-(z+q/2))/q);y=H-9;Y=-Y}else if(B>H){Y=P;z=W/2;y=0;if(--Q<1)J=Q=$=X=1}x+=X;y+=Y},o);a() 
